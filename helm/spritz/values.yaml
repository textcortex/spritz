global:
  host: spritz.example.com
  ingress:
    className: nginx
    annotations: {}
    tls:
      enabled: true
      secretName: ""

authGateway:
  enabled: false
  provider: oauth2-proxy
  service:
    name: spritz-auth-gateway
    port: 4180
  ingress:
    pathPrefix: /oauth2
    annotations: {}
    authURL: ""
    authSigninURL: ""
    authResponseHeaders:
      - X-Auth-Request-User
      - X-Auth-Request-Email
      - X-Auth-Request-Groups
      - Authorization
    injectIdentityHeaders: true
    headerIdSource: X-Auth-Request-User
    headerEmailSource: X-Auth-Request-Email
    headerTeamsSource: X-Auth-Request-Groups
  oauth2Proxy:
    image: quay.io/oauth2-proxy/oauth2-proxy:v7.6.0
    imagePullPolicy: IfNotPresent
    existingSecret: ""
    clientIdKey: OAUTH2_PROXY_CLIENT_ID
    clientSecretKey: OAUTH2_PROXY_CLIENT_SECRET
    cookieSecretKey: OAUTH2_PROXY_COOKIE_SECRET
    oidcIssuerURL: ""
    redirectURL: ""
    scope: "openid email profile"
    emailDomains:
      - "*"
    whitelistDomains: []
    cookieSecure: true
    cookieSameSite: lax
    cookieRefresh: 1h
    cookieExpire: 8h
    setXAuthRequest: true
    passAuthorizationHeader: true
    passAccessToken: true
    skipProviderButton: true
    extraArgs: []
    resources:
      requests:
        cpu: 25m
        memory: 64Mi
      limits:
        cpu: 250m
        memory: 256Mi
    securityContext:
      runAsNonRoot: true
      runAsUser: 65532
      runAsGroup: 65532
      allowPrivilegeEscalation: false
      capabilities:
        drop:
          - ALL

operator:
  image: spritz-operator:latest
  imagePullPolicy: IfNotPresent
  rolloutAt: ""
  namespace: spritz-system
  serviceAccountName: spritz-operator
  clusterRoleName: spritz-operator
  clusterRoleBindingName: spritz-operator
  ttlGracePeriod: 5m
  workspaceSizeLimit: 10Gi
  homeSizeLimit: 5Gi
  podNodeSelector: ""
  homePVC:
    enabled: true
    prefix: spritz-home
    size: 5Gi
    accessModes:
      - ReadWriteOnce
    storageClass: ""
    mountPaths:
      - /home/dev
  sharedConfigPVC:
    enabled: false
    prefix: spritz-shared-config
    size: 100Mi
    accessModes:
      - ReadWriteMany
    storageClass: ""
    mountPath: /shared
  sharedMounts:
    enabled: false
    mounts: []
    apiUrl: ""
    tokenSecret:
      name: ""
      key: token
    syncerImage: ""
    syncerImagePullPolicy: ""
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi
  securityContext:
    runAsNonRoot: true
    runAsUser: 65532
    runAsGroup: 65532
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL

api:
  image: spritz-api:latest
  imagePullPolicy: IfNotPresent
  rolloutAt: ""
  namespace: spritz-system
  serviceAccountName: spritz-api
  defaultAnnotations: ""
  podAnnotations: {}
  service:
    port: 8080
  auth:
    mode: none
    headerId: X-Spritz-User-Id
    headerEmail: X-Spritz-User-Email
    headerTeams: X-Spritz-User-Teams
    adminIds: []
    adminTeams: []
    bearer:
      introspectionUrl: ""
      introspectionAuthHeader: ""
      method: GET
      timeout: 5s
      tokenParam: token
      forwardToken: false
      idPaths:
        - sub
      emailPaths:
        - email
      teamsPaths: []
      jwks:
        url: ""
        issuer: ""
        audiences: []
        algos:
          - RS256
        leeway: 0s
        refreshInterval: 5m
        refreshTimeout: 5s
        rateLimit: 10s
        fallbackToIntrospection: false
  cors:
    origins: []
    allowHeaders: Content-Type,Authorization,X-Spritz-User-Id,X-Spritz-User-Email,X-Spritz-User-Teams
    allowMethods: GET,POST,DELETE,OPTIONS
    allowCredentials: true
  defaultIngress:
    mode: ""
    hostTemplate: ""
    path: ""
    className: ""
    gatewayName: ""
    gatewayNamespace: ""
    gatewaySectionName: ""
  terminal:
    enabled: true
    container: spritz
    command: "bash -l"
    origins: []
  sshGateway:
    enabled: false
    port: 2222
    publicHost: ""
    publicPort: 22
    user: spritz
    principalPrefix: spritz
    certTtl: 15m
    mintLimit: 5
    mintWindow: 1m
    mintBurst: 5
    mintBucketTtl: 30m
    mintBucketCleanup: 5m
    container: spritz
    command: "bash -l"
    secretName: ""
    caKeySecretKey: ca_key
    hostKeySecretKey: host_key
    caKey: ""
    caKeyFile: ""
    hostKey: ""
    hostKeyFile: ""
  sshDefaults:
    enabled: false
    mode: gateway
    gatewayService: spritz-api
    gatewayNamespace: spritz-system
    gatewayPort: 22
    user: spritz
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi
  securityContext:
    runAsNonRoot: true
    runAsUser: 65532
    runAsGroup: 65532
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL
  extraEnv: []
  extraVolumeMounts: []
  extraVolumes: []
  sharedMounts:
    enabled: false
    mounts: []
    prefix: spritz-shared
    rclone:
      remote: ""
      bucket: ""
      configSecret:
        name: ""
        key: rclone.conf
    internalTokenSecret:
      name: ""
      key: token
    maxBundleBytes: ""

ui:
  image: spritz-ui:latest
  imagePullPolicy: IfNotPresent
  rolloutAt: ""
  namespace: spritz-system
  service:
    port: 80
  containerPort: 8080
  ingress:
    enabled: true
  apiBaseUrl: "/api"
  ownerId: ""
  assetVersion: ""
  presets: []
  repoDefaults:
    url: ""
    dir: ""
    branch: ""
    hideInputs: false
  auth:
    mode: none
    tokenStorage: localStorage
    tokenStorageKeys: []
    bearerTokenParam: token
    loginUrl: ""
    returnToMode: auto
    returnToParam: ""
    redirectOnUnauthorized: false
    refresh:
      enabled: false
      url: ""
      method: POST
      credentials: include
      tokenStorageKeys: []
      timeoutMs: 5000
      cooldownMs: 30000
      headers: {}
  resources:
    requests:
      cpu: 25m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi
  securityContext:
    runAsNonRoot: true
    runAsUser: 101
    runAsGroup: 101
    allowPrivilegeEscalation: false
    capabilities:
      drop:
        - ALL

spritz:
  namespace: spritz
